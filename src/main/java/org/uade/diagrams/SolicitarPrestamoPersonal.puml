@startuml
actor Cliente
participant "ClienteController" as CC
participant "PrestamoController" as PC
participant "Cliente" as C
participant "CajaAhorro" as CA
participant "PrestamoPersonal" as PP

' El cliente inicia la solicitud de préstamo personal
Cliente -> CC: solicitarPrestamo(nroCliente, monto, plazo)
activate CC

' El controller busca el cliente por su número
CC -> C: buscarClientePorNro(nroCliente)
activate C
CC <-- C: Cliente
deactivate C

' El controller delega la creación del préstamo personal
CC -> PC: registrarPrestamoPersonal(nroPrestamo, plazo, nroCliente, monto, tasa)
activate PC

' Se crea la instancia concreta de PrestamoPersonal
PC -> PP: new PrestamoPersonal(...)
activate PP
PC <-- PP: PrestamoPersonal
deactivate PP

' Se acredita el dinero en la caja de ahorro del cliente
PC -> C: getCajaAhorro()
activate C
PC -> CA: acreditarDinero(monto)
activate CA

' Se registra la operación de ingreso en la caja de ahorro
PC -> CA: registrarOperacion(fecha, INGRESO, monto)
deactivate CA
deactivate C

' Se confirma la operación al controller
PC --> CC: confirmación
deactivate PC

' El controller informa al cliente que el préstamo fue otorgado
CC --> Cliente: préstamo otorgado
deactivate CC

@enduml